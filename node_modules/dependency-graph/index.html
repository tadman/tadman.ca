<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Dependency Graph</title>
    <link rel="stylesheet" media="all" href="/assets/css/main.css"/>
  </head>
  <body class="bg-blue-900 p-8">
    <h1 id="dependency-graph">Dependency Graph</h1>

<p>Simple dependency graph</p>

<h2 id="overview">Overview</h2>

<p>This is a simple dependency graph useful for determining the order to do a list of things that depend on certain items being done before they are.</p>

<p>To use, <code class="language-plaintext highlighter-rouge">npm install dependency-graph</code> and then <code class="language-plaintext highlighter-rouge">require('dependency-graph').DepGraph</code></p>

<h2 id="api">API</h2>

<h3 id="depgraph">DepGraph</h3>

<p>Nodes in the graph are just simple strings with optional data associated with them.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">addNode(name, data)</code> - add a node in the graph with optional data. If <code class="language-plaintext highlighter-rouge">data</code> is not given, <code class="language-plaintext highlighter-rouge">name</code> will be used as data</li>
  <li><code class="language-plaintext highlighter-rouge">removeNode(name)</code> - remove a node from the graph</li>
  <li><code class="language-plaintext highlighter-rouge">hasNode(name)</code> - check if a node exists in the graph</li>
  <li><code class="language-plaintext highlighter-rouge">size()</code> - return the number of nodes in the graph</li>
  <li><code class="language-plaintext highlighter-rouge">getNodeData(name)</code> - get the data associated with a node (will throw an <code class="language-plaintext highlighter-rouge">Error</code> if the node does not exist)</li>
  <li><code class="language-plaintext highlighter-rouge">setNodeData(name, data)</code> - set the data for an existing node (will throw an <code class="language-plaintext highlighter-rouge">Error</code> if the node does not exist)</li>
  <li><code class="language-plaintext highlighter-rouge">addDependency(from, to)</code> - add a dependency between two nodes (will throw an <code class="language-plaintext highlighter-rouge">Error</code> if one of the nodes does not exist)</li>
  <li><code class="language-plaintext highlighter-rouge">removeDependency(from, to)</code> - remove a dependency between two nodes</li>
  <li><code class="language-plaintext highlighter-rouge">clone()</code> - return a clone of the graph. Any data attached to the nodes will only be <em>shallow-copied</em></li>
  <li><code class="language-plaintext highlighter-rouge">dependenciesOf(name, leavesOnly)</code> - get an array containing the nodes that the specified node depends on (transitively). If <code class="language-plaintext highlighter-rouge">leavesOnly</code> is true, only nodes that do not depend on any other nodes will be returned in the array.</li>
  <li><code class="language-plaintext highlighter-rouge">dependantsOf(name, leavesOnly)</code> (aliased as <code class="language-plaintext highlighter-rouge">dependentsOf</code>) - get an array containing the nodes that depend on the specified node (transitively). If <code class="language-plaintext highlighter-rouge">leavesOnly</code> is true, only nodes that do not have any dependants will be returned in the array.</li>
  <li><code class="language-plaintext highlighter-rouge">directDependenciesOf(name)</code> - get an array containing the direct dependencies of the specified node</li>
  <li><code class="language-plaintext highlighter-rouge">directDependantsOf(name)</code> (aliased as <code class="language-plaintext highlighter-rouge">directDependentsOf</code>) - get an array containing the nodes that directly depend on the specified node</li>
  <li><code class="language-plaintext highlighter-rouge">overallOrder(leavesOnly)</code> - construct the overall processing order for the dependency graph. If <code class="language-plaintext highlighter-rouge">leavesOnly</code> is true, only nodes that do not depend on any other nodes will be returned.</li>
  <li><code class="language-plaintext highlighter-rouge">entryNodes()</code> - array of nodes that have no dependants (i.e. nothing depends on them).</li>
</ul>

<p>Dependency Cycles are detected when running <code class="language-plaintext highlighter-rouge">dependenciesOf</code>, <code class="language-plaintext highlighter-rouge">dependantsOf</code>, and <code class="language-plaintext highlighter-rouge">overallOrder</code> and if one is found, a <code class="language-plaintext highlighter-rouge">DepGraphCycleError</code> will be thrown that includes what the cycle was in the message as well as the <code class="language-plaintext highlighter-rouge">cyclePath</code> property: e.g. <code class="language-plaintext highlighter-rouge">Dependency Cycle Found: a -&gt; b -&gt; c -&gt; a</code>. If you wish to silence this error, pass <code class="language-plaintext highlighter-rouge">circular: true</code> when instantiating <code class="language-plaintext highlighter-rouge">DepGraph</code> (more below).</p>

<h2 id="examples">Examples</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var DepGraph = require('dependency-graph').DepGraph;

var graph = new DepGraph();
graph.addNode('a');
graph.addNode('b');
graph.addNode('c');

graph.size() // 3

graph.addDependency('a', 'b');
graph.addDependency('b', 'c');

graph.dependenciesOf('a'); // ['c', 'b']
graph.dependenciesOf('b'); // ['c']
graph.dependantsOf('c'); // ['a', 'b']

graph.overallOrder(); // ['c', 'b', 'a']
graph.overallOrder(true); // ['c']
graph.entryNodes(); // ['a']

graph.addNode('d', 'data');

graph.getNodeData('d'); // 'data'

graph.setNodeData('d', 'newData');

graph.getNodeData('d'); // 'newData'

var circularGraph = new DepGraph({ circular: true });

circularGraph.addNode('a');
circularGraph.addNode('b');
circularGraph.addNode('c');
circularGraph.addNode('d');

circularGraph.addDependency('a', 'b');
circularGraph.addDependency('b', 'c'); // b depends on c
circularGraph.addDependency('c', 'a'); // c depends on a, which depends on b
circularGraph.addDependency('d', 'a');

circularGraph.dependenciesOf('b'); // ['a', 'c']
circularGraph.overallOrder(); // ['c', 'b', 'a', 'd']
</code></pre></div></div>

  </body>
</html>
