<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>normalize-range</title>
    <link rel="stylesheet" media="all" href="/assets/css/main.css"/>
  </head>
  <body class="bg-blue-900 p-8">
    <h1 id="normalize-range">normalize-range</h1>

<p>Utility for normalizing a numeric range, with a wrapping function useful for polar coordinates.</p>

<p><a href="https://travis-ci.org/jamestalmage/normalize-range"><img src="https://travis-ci.org/jamestalmage/normalize-range.svg?branch=master" alt="Build Status" /></a>
<a href="https://coveralls.io/github/jamestalmage/normalize-range?branch=master"><img src="https://coveralls.io/repos/jamestalmage/normalize-range/badge.svg?branch=master&amp;service=github" alt="Coverage Status" /></a>
<a href="https://codeclimate.com/github/jamestalmage/normalize-range"><img src="https://codeclimate.com/github/jamestalmage/normalize-range/badges/gpa.svg" alt="Code Climate" /></a>
<a href="https://david-dm.org/jamestalmage/normalize-range"><img src="https://david-dm.org/jamestalmage/normalize-range.svg" alt="Dependency Status" /></a>
<a href="https://david-dm.org/jamestalmage/normalize-range#info=devDependencies"><img src="https://david-dm.org/jamestalmage/normalize-range/dev-status.svg" alt="devDependency Status" /></a></p>

<p><a href="https://nodei.co/npm/normalize-range/"><img src="https://nodei.co/npm/normalize-range.png" alt="NPM" /></a></p>

<h2 id="usage">Usage</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">nr</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">normalize-range</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">nr</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
<span class="c1">//=&gt; 40</span>

<span class="nx">nr</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="o">-</span><span class="mi">90</span><span class="p">);</span>
<span class="c1">//=&gt; 270</span>

<span class="nx">nr</span><span class="p">.</span><span class="nx">limit</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>
<span class="c1">//=&gt; 100</span>

<span class="nx">nr</span><span class="p">.</span><span class="nx">limit</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">);</span>
<span class="c1">//=&gt; 0</span>

<span class="c1">// There is a convenient currying function</span>
<span class="kd">var</span> <span class="nx">wrapAngle</span> <span class="o">=</span> <span class="nx">nr</span><span class="p">.</span><span class="nx">curry</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">).</span><span class="nx">wrap</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">limitTo10</span> <span class="o">=</span> <span class="nx">nr</span><span class="p">.</span><span class="nx">curry</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">).</span><span class="nx">limit</span><span class="p">;</span>

<span class="nx">wrapAngle</span><span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">);</span>
<span class="c1">//=&gt; 330</span>
</code></pre></div></div>
<h2 id="api">API</h2>

<h3 id="wrapmin-max-value">wrap(min, max, value)</h3>

<p>Normalizes a values that “wraps around”. For example, in a polar coordinate system, 270˚ can also be
represented as -90˚. 
For wrapping purposes we assume <code class="language-plaintext highlighter-rouge">max</code> is functionally equivalent to <code class="language-plaintext highlighter-rouge">min</code>, and that <code class="language-plaintext highlighter-rouge">wrap(max + 1) === wrap(min + 1)</code>.
Wrap always assumes that <code class="language-plaintext highlighter-rouge">min</code> is <em>inclusive</em>, and <code class="language-plaintext highlighter-rouge">max</code> is <em>exclusive</em>.
In other words, if <code class="language-plaintext highlighter-rouge">value === max</code> the function will wrap it, and return <code class="language-plaintext highlighter-rouge">min</code>, but <code class="language-plaintext highlighter-rouge">min</code> will not be wrapped.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">nr</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">nr</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">nr</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">361</span><span class="p">)</span> <span class="o">===</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">nr</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">===</span> <span class="mi">359</span><span class="p">;</span>
</code></pre></div></div>

<p>You are not restricted to whole numbers, and ranges can be negative.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">π</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">radianRange</span> <span class="o">=</span> <span class="nx">nr</span><span class="p">.</span><span class="nx">curry</span><span class="p">(</span><span class="o">-</span><span class="nx">π</span><span class="p">,</span> <span class="nx">π</span><span class="p">);</span>

<span class="nx">redianRange</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">nr</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="nx">π</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="nx">π</span><span class="p">;</span>
<span class="nx">nr</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="nx">π</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="nx">π</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="limitmin-max-value">limit(min, max, value)</h3>

<p>Normalize the value by bringing it within the range.
If <code class="language-plaintext highlighter-rouge">value</code> is greater than <code class="language-plaintext highlighter-rouge">max</code>, <code class="language-plaintext highlighter-rouge">max</code> will be returned.
If <code class="language-plaintext highlighter-rouge">value</code> is less than <code class="language-plaintext highlighter-rouge">min</code>, <code class="language-plaintext highlighter-rouge">min</code> will be returned.
Otherwise, <code class="language-plaintext highlighter-rouge">value</code> is returned unaltered.
Both ends of this range are <em>inclusive</em>.</p>

<h3 id="testmin-max-value-minexclusive-maxexclusive">test(min, max, value, [minExclusive], [maxExclusive])</h3>

<p>Returns <code class="language-plaintext highlighter-rouge">true</code> if <code class="language-plaintext highlighter-rouge">value</code> is within the range, <code class="language-plaintext highlighter-rouge">false</code> otherwise.
It defaults to <code class="language-plaintext highlighter-rouge">inclusive</code> on both ends of the range, but that can be
changed by setting <code class="language-plaintext highlighter-rouge">minExclusive</code> and/or <code class="language-plaintext highlighter-rouge">maxExclusive</code> to a truthy value.</p>

<h3 id="validatemin-max-value-minexclusive-maxexclusive">validate(min, max, value, [minExclusive], [maxExclusive])</h3>

<p>Returns <code class="language-plaintext highlighter-rouge">value</code> or throws an error if <code class="language-plaintext highlighter-rouge">value</code> is outside the specified range.</p>

<h3 id="namemin-max-value-minexclusive-maxexclusive">name(min, max, value, [minExclusive], [maxExclusive])</h3>

<p>Returns a string representing this range in 
<a href="https://en.wikipedia.org/wiki/Interval_(mathematics)#Classification_of_intervals">range notation</a>.</p>

<h3 id="currymin-max-minexclusive-maxexclusive">curry(min, max, [minExclusive], [maxExclusive])</h3>

<p>Convenience method for currying all method arguments except <code class="language-plaintext highlighter-rouge">value</code>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">angle</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">normalize-range</span><span class="dl">'</span><span class="p">).</span><span class="nx">curry</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nx">angle</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="mi">270</span><span class="p">)</span>
<span class="c1">//=&gt; -90</span>

<span class="nx">angle</span><span class="p">.</span><span class="nx">limit</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="c1">//=&gt; 180</span>

<span class="nx">angle</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">//=&gt; true</span>

<span class="nx">angle</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span>
<span class="c1">//=&gt; throws an Error</span>

<span class="nx">angle</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// or angle.name()</span>
<span class="c1">//=&gt; "[-180,180)"</span>
</code></pre></div></div>

<h4 id="min">min</h4>

<p><em>Required</em><br />
Type: <code class="language-plaintext highlighter-rouge">number</code></p>

<p>The minimum value (inclusive) of the range.</p>

<h4 id="max">max</h4>

<p><em>Required</em><br />
Type: <code class="language-plaintext highlighter-rouge">number</code></p>

<p>The maximum value (exclusive) of the range.</p>

<h4 id="value">value</h4>

<p><em>Required</em><br />
Type: <code class="language-plaintext highlighter-rouge">number</code></p>

<p>The value to be normalized.</p>

<h4 id="returns">returns</h4>

<p>Type: <code class="language-plaintext highlighter-rouge">number</code></p>

<p>The normalized value.</p>

<h2 id="building-and-releasing">Building and Releasing</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">npm test</code>: tests, linting, coverage and style checks.</li>
  <li><code class="language-plaintext highlighter-rouge">npm run watch</code>: autotest mode for active development.</li>
  <li><code class="language-plaintext highlighter-rouge">npm run debug</code>: run tests without coverage (istanbul can obscure line #’s)</li>
</ul>

<p>Release via <code class="language-plaintext highlighter-rouge">cut-release</code> tool.</p>

<h2 id="license">License</h2>

<p>MIT © <a href="http://github.com/jamestalmage">James Talmage</a></p>

  </body>
</html>
