<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>globby</title>
    <link rel="stylesheet" media="all" href="/assets/css/main.css"/>
  </head>
  <body class="bg-blue-900 p-8">
    <h1 id="globby">globby</h1>

<blockquote>
  <p>User-friendly glob matching</p>
</blockquote>

<p>Based on <a href="https://github.com/mrmlnc/fast-glob"><code class="language-plaintext highlighter-rouge">fast-glob</code></a> but adds a bunch of useful features.</p>

<h2 id="features">Features</h2>

<ul>
  <li>Promise API</li>
  <li>Multiple patterns</li>
  <li>Negated patterns: <code class="language-plaintext highlighter-rouge">['foo*', '!foobar']</code></li>
  <li>Expands directories: <code class="language-plaintext highlighter-rouge">foo</code> → <code class="language-plaintext highlighter-rouge">foo/**/*</code></li>
  <li>Supports <code class="language-plaintext highlighter-rouge">.gitignore</code> and similar ignore config files</li>
  <li>Supports <code class="language-plaintext highlighter-rouge">URL</code> as <code class="language-plaintext highlighter-rouge">cwd</code></li>
</ul>

<h2 id="install">Install</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install globby
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>├── unicorn
├── cake
└── rainbow
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">globby</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">globby</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">paths</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">globby</span><span class="p">([</span><span class="dl">'</span><span class="s1">*</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">!cake</span><span class="dl">'</span><span class="p">]);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">paths</span><span class="p">);</span>
<span class="c1">//=&gt; ['unicorn', 'rainbow']</span>
</code></pre></div></div>

<h2 id="api">API</h2>

<p>Note that glob patterns can only contain forward-slashes, not backward-slashes, so if you want to construct a glob pattern from path components, you need to use <code class="language-plaintext highlighter-rouge">path.posix.join()</code> instead of <code class="language-plaintext highlighter-rouge">path.join()</code>.</p>

<h3 id="globbypatterns-options">globby(patterns, options?)</h3>

<p>Returns a <code class="language-plaintext highlighter-rouge">Promise&lt;string[]&gt;</code> of matching paths.</p>

<h4 id="patterns">patterns</h4>

<p>Type: <code class="language-plaintext highlighter-rouge">string | string[]</code></p>

<p>See supported <code class="language-plaintext highlighter-rouge">minimatch</code> <a href="https://github.com/isaacs/minimatch#usage">patterns</a>.</p>

<h4 id="options">options</h4>

<p>Type: <code class="language-plaintext highlighter-rouge">object</code></p>

<p>See the <a href="https://github.com/mrmlnc/fast-glob#options-3"><code class="language-plaintext highlighter-rouge">fast-glob</code> options</a> in addition to the ones below.</p>

<h5 id="expanddirectories">expandDirectories</h5>

<p>Type: <code class="language-plaintext highlighter-rouge">boolean | string[] | object</code><br />
Default: <code class="language-plaintext highlighter-rouge">true</code></p>

<p>If set to <code class="language-plaintext highlighter-rouge">true</code>, <code class="language-plaintext highlighter-rouge">globby</code> will automatically glob directories for you. If you define an <code class="language-plaintext highlighter-rouge">Array</code> it will only glob files that matches the patterns inside the <code class="language-plaintext highlighter-rouge">Array</code>. You can also define an <code class="language-plaintext highlighter-rouge">object</code> with <code class="language-plaintext highlighter-rouge">files</code> and <code class="language-plaintext highlighter-rouge">extensions</code> like below:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">globby</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">globby</span><span class="dl">'</span><span class="p">;</span>

<span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="nx">paths</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">globby</span><span class="p">(</span><span class="dl">'</span><span class="s1">images</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
		<span class="na">expandDirectories</span><span class="p">:</span> <span class="p">{</span>
			<span class="na">files</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">cat</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">unicorn</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">*.jpg</span><span class="dl">'</span><span class="p">],</span>
			<span class="na">extensions</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">png</span><span class="dl">'</span><span class="p">]</span>
		<span class="p">}</span>
	<span class="p">});</span>

	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">paths</span><span class="p">);</span>
	<span class="c1">//=&gt; ['cat.png', 'unicorn.png', 'cow.jpg', 'rainbow.jpg']</span>
<span class="p">})();</span>
</code></pre></div></div>

<p>Note that if you set this option to <code class="language-plaintext highlighter-rouge">false</code>, you won’t get back matched directories unless you set <code class="language-plaintext highlighter-rouge">onlyFiles: false</code>.</p>

<h5 id="gitignore">gitignore</h5>

<p>Type: <code class="language-plaintext highlighter-rouge">boolean</code><br />
Default: <code class="language-plaintext highlighter-rouge">false</code></p>

<p>Respect ignore patterns in <code class="language-plaintext highlighter-rouge">.gitignore</code> files that apply to the globbed files.</p>

<h5 id="ignorefiles">ignoreFiles</h5>

<p>Type: <code class="language-plaintext highlighter-rouge">string | string[]</code><br />
Default: <code class="language-plaintext highlighter-rouge">undefined</code></p>

<p>Glob patterns to look for ignore files, which are then used to ignore globbed files.</p>

<p>This is a more generic form of the <code class="language-plaintext highlighter-rouge">gitignore</code> option, allowing you to find ignore files with a <a href="http://git-scm.com/docs/gitignore">compatible syntax</a>. For instance, this works with Babel’s <code class="language-plaintext highlighter-rouge">.babelignore</code>, Prettier’s <code class="language-plaintext highlighter-rouge">.prettierignore</code>, or ESLint’s <code class="language-plaintext highlighter-rouge">.eslintignore</code> files.</p>

<h3 id="globbysyncpatterns-options">globbySync(patterns, options?)</h3>

<p>Returns <code class="language-plaintext highlighter-rouge">string[]</code> of matching paths.</p>

<h3 id="globbystreampatterns-options">globbyStream(patterns, options?)</h3>

<p>Returns a <a href="https://nodejs.org/api/stream.html#stream_readable_streams"><code class="language-plaintext highlighter-rouge">stream.Readable</code></a> of matching paths.</p>

<p>Since Node.js 10, <a href="https://nodejs.org/api/stream.html#stream_readable_symbol_asynciterator">readable streams are iterable</a>, so you can loop over glob matches in a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of"><code class="language-plaintext highlighter-rouge">for await...of</code> loop</a> like this:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">globbyStream</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">globby</span><span class="dl">'</span><span class="p">;</span>

<span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="k">for</span> <span class="k">await</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">path</span> <span class="k">of</span> <span class="nx">globbyStream</span><span class="p">(</span><span class="dl">'</span><span class="s1">*.tmp</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">path</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">})();</span>
</code></pre></div></div>

<h3 id="generateglobtaskspatterns-options">generateGlobTasks(patterns, options?)</h3>

<p>Returns an <code class="language-plaintext highlighter-rouge">Promise&lt;object[]&gt;</code> in the format <code class="language-plaintext highlighter-rouge">{patterns: string[], options: Object}</code>, which can be passed as arguments to <a href="https://github.com/mrmlnc/fast-glob"><code class="language-plaintext highlighter-rouge">fast-glob</code></a>. This is useful for other globbing-related packages.</p>

<p>Note that you should avoid running the same tasks multiple times as they contain a file system cache. Instead, run this method each time to ensure file system changes are taken into consideration.</p>

<h3 id="generateglobtaskssyncpatterns-options">generateGlobTasksSync(patterns, options?)</h3>

<p>Returns an <code class="language-plaintext highlighter-rouge">object[]</code> in the format <code class="language-plaintext highlighter-rouge">{patterns: string[], options: Object}</code>, which can be passed as arguments to <a href="https://github.com/mrmlnc/fast-glob"><code class="language-plaintext highlighter-rouge">fast-glob</code></a>. This is useful for other globbing-related packages.</p>

<p>Takes the same arguments as <code class="language-plaintext highlighter-rouge">generateGlobTasks</code>.</p>

<h3 id="isdynamicpatternpatterns-options">isDynamicPattern(patterns, options?)</h3>

<p>Returns a <code class="language-plaintext highlighter-rouge">boolean</code> of whether there are any special glob characters in the <code class="language-plaintext highlighter-rouge">patterns</code>.</p>

<p>Note that the options affect the results.</p>

<p>This function is backed by <a href="https://github.com/mrmlnc/fast-glob#isdynamicpatternpattern-options"><code class="language-plaintext highlighter-rouge">fast-glob</code></a>.</p>

<h3 id="isgitignoredoptions">isGitIgnored(options?)</h3>

<p>Returns a <code class="language-plaintext highlighter-rouge">Promise&lt;(path: URL | string) =&gt; boolean&gt;</code> indicating whether a given path is ignored via a <code class="language-plaintext highlighter-rouge">.gitignore</code> file.</p>

<p>Takes <code class="language-plaintext highlighter-rouge">cwd?: URL | string</code> as options.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">isGitIgnored</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">globby</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">isIgnored</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">isGitIgnored</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">isIgnored</span><span class="p">(</span><span class="dl">'</span><span class="s1">some/file</span><span class="dl">'</span><span class="p">));</span>
</code></pre></div></div>

<h3 id="isgitignoredsyncoptions">isGitIgnoredSync(options?)</h3>

<p>Returns a <code class="language-plaintext highlighter-rouge">(path: URL | string) =&gt; boolean</code> indicating whether a given path is ignored via a <code class="language-plaintext highlighter-rouge">.gitignore</code> file.</p>

<p>Takes <code class="language-plaintext highlighter-rouge">cwd?: URL | string</code> as options.</p>

<h2 id="globbing-patterns">Globbing patterns</h2>

<p>Just a quick overview.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">*</code> matches any number of characters, but not <code class="language-plaintext highlighter-rouge">/</code></li>
  <li><code class="language-plaintext highlighter-rouge">?</code> matches a single character, but not <code class="language-plaintext highlighter-rouge">/</code></li>
  <li><code class="language-plaintext highlighter-rouge">**</code> matches any number of characters, including <code class="language-plaintext highlighter-rouge">/</code>, as long as it’s the only thing in a path part</li>
  <li><code class="language-plaintext highlighter-rouge">{}</code> allows for a comma-separated list of “or” expressions</li>
  <li><code class="language-plaintext highlighter-rouge">!</code> at the beginning of a pattern will negate the match</li>
</ul>

<p><a href="https://github.com/sindresorhus/multimatch/blob/main/test/test.js">Various patterns and expected matches.</a></p>

<h2 id="globby-for-enterprise">globby for enterprise</h2>

<p>Available as part of the Tidelift Subscription.</p>

<p>The maintainers of globby and thousands of other packages are working with Tidelift to deliver commercial support and maintenance for the open source dependencies you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact dependencies you use. <a href="https://tidelift.com/subscription/pkg/npm-globby?utm_source=npm-globby&amp;utm_medium=referral&amp;utm_campaign=enterprise&amp;utm_term=repo">Learn more.</a></p>

<h2 id="related">Related</h2>

<ul>
  <li><a href="https://github.com/sindresorhus/multimatch">multimatch</a> - Match against a list instead of the filesystem</li>
  <li><a href="https://github.com/sindresorhus/matcher">matcher</a> - Simple wildcard matching</li>
  <li><a href="https://github.com/sindresorhus/del">del</a> - Delete files and directories</li>
  <li><a href="https://github.com/sindresorhus/make-dir">make-dir</a> - Make a directory and its parents if needed</li>
</ul>

  </body>
</html>
