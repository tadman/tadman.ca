<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>postcss-import</title>
    <link rel="stylesheet" media="all" href="/assets/css/main.css"/>
  </head>
  <body class="bg-blue-900 p-8">
    <h1 id="postcss-import">postcss-import</h1>

<p><a href="https://travis-ci.org/postcss/postcss-import"><img src="https://img.shields.io/travis/postcss/postcss-import/master" alt="Build" /></a>
<a href="https://github.com/postcss/postcss-import/blob/master/CHANGELOG.md"><img src="https://img.shields.io/npm/v/postcss-import" alt="Version" /></a>
<a href="https://postcss.org/"><img src="https://img.shields.io/npm/dependency-version/postcss-import/peer/postcss" alt="postcss compatibility" /></a></p>

<blockquote>
  <p><a href="https://github.com/postcss/postcss">PostCSS</a> plugin to transform <code class="language-plaintext highlighter-rouge">@import</code>
rules by inlining content.</p>
</blockquote>

<p>This plugin can consume local files, node modules or web_modules.
To resolve path of an <code class="language-plaintext highlighter-rouge">@import</code> rule, it can look into root directory
(by default <code class="language-plaintext highlighter-rouge">process.cwd()</code>), <code class="language-plaintext highlighter-rouge">web_modules</code>, <code class="language-plaintext highlighter-rouge">node_modules</code>
or local modules.
<em>When importing a module, it will look for <code class="language-plaintext highlighter-rouge">index.css</code> or file referenced in
<code class="language-plaintext highlighter-rouge">package.json</code> in the <code class="language-plaintext highlighter-rouge">style</code> or <code class="language-plaintext highlighter-rouge">main</code> fields.</em>
You can also provide manually multiples paths where to look at.</p>

<p><strong>Notes:</strong></p>

<ul>
  <li><strong>This plugin should probably be used as the first plugin of your list.
This way, other plugins will work on the AST as if there were only a single file
to process, and will probably work as you can expect</strong>.</li>
  <li>This plugin works great with
<a href="https://github.com/postcss/postcss-url">postcss-url</a> plugin,
which will allow you to adjust assets <code class="language-plaintext highlighter-rouge">url()</code> (or even inline them) after
inlining imported files.</li>
  <li>In order to optimize output, <strong>this plugin will only import a file once</strong> on
a given scope (root, media query…).
Tests are made from the path &amp; the content of imported files (using a hash
table).
If this behavior is not what you want, look at <code class="language-plaintext highlighter-rouge">skipDuplicates</code> option</li>
  <li>If you are looking for <strong>Glob Imports</strong>, you can use <a href="https://github.com/dimitrinicolas/postcss-import-ext-glob">postcss-import-ext-glob</a> to extend postcss-import.</li>
  <li>Imports which are not modified (by <code class="language-plaintext highlighter-rouge">options.filter</code> or because they are remote
imports) are moved to the top of the output.</li>
  <li><strong>This plugin attempts to follow the CSS <code class="language-plaintext highlighter-rouge">@import</code> spec</strong>; <code class="language-plaintext highlighter-rouge">@import</code>
statements must precede all other statements (besides <code class="language-plaintext highlighter-rouge">@charset</code>).</li>
</ul>

<h2 id="installation">Installation</h2>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>npm <span class="nb">install</span> <span class="nt">-D</span> postcss-import
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>Unless your stylesheet is in the same place where you run postcss
(<code class="language-plaintext highlighter-rouge">process.cwd()</code>), you will need to use <code class="language-plaintext highlighter-rouge">from</code> option to make relative imports
work.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// dependencies</span>
<span class="kd">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">fs</span><span class="dl">"</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">postcss</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">postcss</span><span class="dl">"</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">atImport</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">postcss-import</span><span class="dl">"</span><span class="p">)</span>

<span class="c1">// css to be processed</span>
<span class="kd">const</span> <span class="nx">css</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="dl">"</span><span class="s2">css/input.css</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">utf8</span><span class="dl">"</span><span class="p">)</span>

<span class="c1">// process css</span>
<span class="nx">postcss</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">atImport</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">process</span><span class="p">(</span><span class="nx">css</span><span class="p">,</span> <span class="p">{</span>
    <span class="c1">// `from` option is needed here</span>
    <span class="na">from</span><span class="p">:</span> <span class="dl">"</span><span class="s2">css/input.css</span><span class="dl">"</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">output</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">css</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">output</span><span class="p">)</span>
  <span class="p">})</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">css/input.css</code>:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* can consume `node_modules`, `web_modules` or local modules */</span>
<span class="k">@import</span> <span class="s1">"cssrecipes-defaults"</span><span class="p">;</span> <span class="c">/* == @import "../node_modules/cssrecipes-defaults/index.css"; */</span>
<span class="k">@import</span> <span class="s1">"normalize.css"</span><span class="p">;</span> <span class="c">/* == @import "../node_modules/normalize.css/normalize.css"; */</span>

<span class="k">@import</span> <span class="s1">"foo.css"</span><span class="p">;</span> <span class="c">/* relative to css/ according to `from` option above */</span>

<span class="k">@import</span> <span class="s1">"bar.css"</span> <span class="p">(</span><span class="n">min-width</span><span class="p">:</span> <span class="m">25em</span><span class="p">);</span>

<span class="nt">body</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="no">black</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>will give you:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* ... content of ../node_modules/cssrecipes-defaults/index.css */</span>
<span class="c">/* ... content of ../node_modules/normalize.css/normalize.css */</span>

<span class="c">/* ... content of css/foo.css */</span>

<span class="k">@media</span> <span class="p">(</span><span class="n">min-width</span><span class="p">:</span> <span class="m">25em</span><span class="p">)</span> <span class="p">{</span>
<span class="c">/* ... content of css/bar.css */</span>
<span class="p">}</span>

<span class="nt">body</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="no">black</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Checkout the <a href="test">tests</a> for more examples.</p>

<h3 id="options">Options</h3>

<h3 id="filter"><code class="language-plaintext highlighter-rouge">filter</code></h3>
<p>Type: <code class="language-plaintext highlighter-rouge">Function</code><br />
Default: <code class="language-plaintext highlighter-rouge">() =&gt; true</code></p>

<p>Only transform imports for which the test function returns <code class="language-plaintext highlighter-rouge">true</code>. Imports for
which the test function returns <code class="language-plaintext highlighter-rouge">false</code> will be left as is. The function gets
the path to import as an argument and should return a boolean.</p>

<h4 id="root"><code class="language-plaintext highlighter-rouge">root</code></h4>

<p>Type: <code class="language-plaintext highlighter-rouge">String</code><br />
Default: <code class="language-plaintext highlighter-rouge">process.cwd()</code> or <em>dirname of
<a href="https://github.com/postcss/postcss#node-source">the postcss <code class="language-plaintext highlighter-rouge">from</code></a></em></p>

<p>Define the root where to resolve path (eg: place where <code class="language-plaintext highlighter-rouge">node_modules</code> are).
Should not be used that much.<br />
<em>Note: nested <code class="language-plaintext highlighter-rouge">@import</code> will additionally benefit of the relative dirname of
imported files.</em></p>

<h4 id="path"><code class="language-plaintext highlighter-rouge">path</code></h4>

<p>Type: <code class="language-plaintext highlighter-rouge">String|Array</code><br />
Default: <code class="language-plaintext highlighter-rouge">[]</code></p>

<p>A string or an array of paths in where to look for files.</p>

<h4 id="plugins"><code class="language-plaintext highlighter-rouge">plugins</code></h4>

<p>Type: <code class="language-plaintext highlighter-rouge">Array</code><br />
Default: <code class="language-plaintext highlighter-rouge">undefined</code></p>

<p>An array of plugins to be applied on each imported files.</p>

<h4 id="resolve"><code class="language-plaintext highlighter-rouge">resolve</code></h4>

<p>Type: <code class="language-plaintext highlighter-rouge">Function</code><br />
Default: <code class="language-plaintext highlighter-rouge">null</code></p>

<p>You can provide a custom path resolver with this option. This function gets
<code class="language-plaintext highlighter-rouge">(id, basedir, importOptions)</code> arguments and should return a path, an array of
paths or a promise resolving to the path(s). If you do not return an absolute
path, your path will be resolved to an absolute path using the default
resolver.
You can use <a href="https://github.com/substack/node-resolve">resolve</a> for this.</p>

<h4 id="load"><code class="language-plaintext highlighter-rouge">load</code></h4>

<p>Type: <code class="language-plaintext highlighter-rouge">Function</code><br />
Default: null</p>

<p>You can overwrite the default loading way by setting this option.
This function gets <code class="language-plaintext highlighter-rouge">(filename, importOptions)</code> arguments and returns content or
promised content.</p>

<h4 id="skipduplicates"><code class="language-plaintext highlighter-rouge">skipDuplicates</code></h4>

<p>Type: <code class="language-plaintext highlighter-rouge">Boolean</code><br />
Default: <code class="language-plaintext highlighter-rouge">true</code></p>

<p>By default, similar files (based on the same content) are being skipped.
It’s to optimize output and skip similar files like <code class="language-plaintext highlighter-rouge">normalize.css</code> for example.
If this behavior is not what you want, just set this option to <code class="language-plaintext highlighter-rouge">false</code> to
disable it.</p>

<h4 id="addmodulesdirectories"><code class="language-plaintext highlighter-rouge">addModulesDirectories</code></h4>

<p>Type: <code class="language-plaintext highlighter-rouge">Array</code><br />
Default: <code class="language-plaintext highlighter-rouge">[]</code></p>

<p>An array of folder names to add to <a href="https://github.com/substack/node-resolve">Node’s resolver</a>.
Values will be appended to the default resolve directories:
<code class="language-plaintext highlighter-rouge">["node_modules", "web_modules"]</code>.</p>

<p>This option is only for adding additional directories to default resolver. If
you provide your own resolver via the <code class="language-plaintext highlighter-rouge">resolve</code> configuration option above, then
this value will be ignored.</p>

<h4 id="example-with-some-options">Example with some options</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">postcss</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">postcss</span><span class="dl">"</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">atImport</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">postcss-import</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">postcss</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">atImport</span><span class="p">({</span>
    <span class="na">path</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">src/css</span><span class="dl">"</span><span class="p">],</span>
  <span class="p">}))</span>
  <span class="p">.</span><span class="nx">process</span><span class="p">(</span><span class="nx">cssString</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">css</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">result</span>
  <span class="p">})</span>
</code></pre></div></div>

<h2 id="dependency-message-support"><code class="language-plaintext highlighter-rouge">dependency</code> Message Support</h2>

<p><code class="language-plaintext highlighter-rouge">postcss-import</code> adds a message to <code class="language-plaintext highlighter-rouge">result.messages</code> for each <code class="language-plaintext highlighter-rouge">@import</code>. Messages are in the following format:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  type: 'dependency',
  file: absoluteFilePath,
  parent: fileContainingTheImport
}
</code></pre></div></div>

<p>This is mainly for use by postcss runners that implement file watching.</p>

<hr />

<h2 id="contributing">CONTRIBUTING</h2>

<ul>
  <li>⇄ Pull requests and ★ Stars are always welcome.</li>
  <li>For bugs and feature requests, please create an issue.</li>
  <li>Pull requests must be accompanied by passing automated tests (<code class="language-plaintext highlighter-rouge">$ npm test</code>).</li>
</ul>

<h2 id="changelog"><a href="CHANGELOG.md">Changelog</a></h2>

<h2 id="license"><a href="/node_modules/tailwindcss/node_modules/postcss-import/LICENSE">License</a></h2>

  </body>
</html>
